{
  "meta": {
    "description": "Content Security Policy configuration for maintainable header management",
    "lastUpdated": "2025-08-08",
    "docs": "Add domains to appropriate categories. Rebuild site to regenerate _headers file."
  },
  "environments": {
    "production": true,
    "development": true
  },
  "csp": {
    "default-src": ["'self'"],
      "script-src": [
      "'self'",
      "'unsafe-inline'",
      "'unsafe-eval'",
      {
        "domain": "static.cloudflareinsights.com",
        "purpose": "Cloudflare analytics",
        "category": "analytics"
      },
      {
        "domain": "*.cloudflareinsights.com",
        "purpose": "Cloudflare analytics (wildcard)",
        "category": "analytics"
      },
      {
        "domain": "cloudflareinsights.com",
        "purpose": "Cloudflare analytics",
        "category": "analytics"
      },
      {
        "domain": "cdn.jsdelivr.net",
        "purpose": "CDN for libraries and demos",
        "category": "cdn"
      },
      {
        "domain": "unpkg.com",
        "purpose": "CDN for npm packages",
        "category": "cdn"
      }
    ],
    "script-src-elem": [
      "'self'",
      "'unsafe-inline'",
      {
        "domain": "static.cloudflareinsights.com",
        "purpose": "Cloudflare analytics",
        "category": "analytics"
      },
      {
        "domain": "*.cloudflareinsights.com",
        "purpose": "Cloudflare analytics (wildcard)",
        "category": "analytics"
      },
      {
        "domain": "cloudflareinsights.com",
        "purpose": "Cloudflare analytics",
        "category": "analytics"
      },
      {
        "domain": "cdn.jsdelivr.net",
        "purpose": "CDN for libraries and demos",
        "category": "cdn"
      },
      {
        "domain": "unpkg.com",
        "purpose": "CDN for npm packages",
        "category": "cdn"
      }
    ],
    "connect-src": [
      "'self'",
      {
        "domain": "static.cloudflareinsights.com",
        "purpose": "Cloudflare analytics",
        "category": "analytics"
      },
      {
        "domain": "*.cloudflareinsights.com", 
        "purpose": "Cloudflare analytics (wildcard)",
        "category": "analytics"
      },
      {
        "domain": "api.github.com",
        "purpose": "GitHub API for portfolio data",
        "category": "api"
      }
    ],
    "style-src": [
      "'self'",
      "'unsafe-inline'",
      {
        "domain": "fonts.googleapis.com",
        "purpose": "Google Fonts CSS",
        "category": "fonts"
      }
    ],
    "style-src-attr": ["'unsafe-inline'"],
    "style-src-elem": [
      "'self'",
      "'unsafe-inline'",
      {
        "domain": "fonts.googleapis.com",
        "purpose": "Google Fonts CSS",
        "category": "fonts"
      }
    ],
    "font-src": [
      "'self'",
      "data:",
      {
        "domain": "fonts.gstatic.com",
        "purpose": "Google Fonts files",
        "category": "fonts"
      }
    ],
    "img-src": [
      "'self'",
      "data:",
      "https:",
      {
        "domain": "via.placeholder.com",
        "purpose": "Placeholder images for blog posts",
        "category": "media"
      },
      {
        "domain": "media.giphy.com",
        "purpose": "Animated GIFs for educational content",
        "category": "media"
      },
      {
        "domain": "*.giphy.com",
        "purpose": "Giphy CDN for animated content",
        "category": "media"
      },
      {
        "domain": "i.imgur.com",
        "purpose": "Imgur images for examples",
        "category": "media"
      },
      {
        "domain": "raw.githubusercontent.com",
        "purpose": "GitHub hosted images",
        "category": "media"
      }
    ],
    "media-src": [
      "'self'",
      "https:",
      {
        "domain": "commondatastorage.googleapis.com",
        "purpose": "Google Cloud Storage videos for educational content",
        "category": "media"
      },
      {
        "domain": "www.w3schools.com",
        "purpose": "Educational video examples",
        "category": "media"
      },
      {
        "domain": "www.learningcontainer.com",
        "purpose": "Sample video files for development examples",
        "category": "media"
      },
      {
        "domain": "storage.googleapis.com",
        "purpose": "Google Cloud Storage media files",
        "category": "media"
      },
      {
        "domain": "sample-videos.com",
        "purpose": "Sample video content for demos",
        "category": "media"
      }
    ]
  },
  "otherHeaders": {
    "X-Frame-Options": "DENY",
    "X-Content-Type-Options": "nosniff", 
    "X-XSS-Protection": "1; mode=block",
    "Referrer-Policy": "strict-origin-when-cross-origin",
    "Permissions-Policy": "camera=(), microphone=(), geolocation=()",
    "cf-web-analytics": "off"
  },
  "cacheRules": {
    "staticAssets": {
      "paths": ["/static/*"],
      "maxAge": "31536000",
      "immutable": true
    },
    "images": {
      "extensions": ["*.png", "*.jpg", "*.jpeg", "*.webp"],
      "maxAge": "31536000"
    },
    "cssJs": {
      "extensions": ["*.css", "*.js"],
      "maxAge": "31536000"
    }
  }
}